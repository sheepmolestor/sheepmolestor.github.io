/*! sheep-bars 05-03-2017 */
function createBar(){colourBars.push({barPosition:1,barColour:randomArrayElement(COLOURS)})}function colourPulse(){colourPulseSize=.04}function colourBarTick(){colourPulseSize>0&&(colourPulseSize-=pulseRecede),colourPulseSize<0&&(colourPulseSize=0)}function barShift(){for(var a=[],b=0;b<colourBars.length;b++)colourBars[b].barPosition++,10==colourBars[b].barPosition&&a.push(b);for(var c=a.length-1;c>=0;c--)colourBars.splice(a[c],1)}function drawBars(a,b){for(var c=0;c<colourBars.length;c++)b.fillStyle=colourBars[c].barColour,b.fillRect(0,(.1*colourBars[c].barPosition-.005-colourPulseSize/2)*a.height,a.width,(.01+colourPulseSize)*a.height)}function init(){mainTimer=setInterval(tick,20);var a=document.getElementById("barCanvas");a.getContext("2d");resizeCanvas(),initBar()}function tick(){update(),render()}function update(){barTick(),colourBarTick()}function render(){var a=document.getElementById("barCanvas"),b=a.getContext("2d");b.clearRect(0,0,a.width,a.height),drawMainBar(a,b),drawBars(a,b)}function initBar(){pulseTimer=setInterval(pulse,468.75)}function pulse(){pulseSize=.04,colourPulse(),barShift(),createBar()}function barTick(){pulseSize>0&&(pulseSize-=pulseRecede),pulseSize<0&&(pulseSize=0)}function drawMainBar(a,b){b.fillStyle="#000000",b.fillRect(0,(.88-pulseSize/2)*a.height,a.width,(.04+pulseSize)*a.height)}function randomArrayElement(a){return a[Math.floor(Math.random()*a.length)]}function resizeCanvas(){fitToContainer(document.getElementById("barCanvas"))}function fitToContainer(a){a.style.width="100%",a.style.height="100%",a.width=a.offsetWidth,a.height=a.offsetHeight}var colourBars=[],barJumpFrames=5,barJumpDisplacement=0,colourPulseRecede=.01,COLOUR_BAR_HEIGHT=.01,COLOUR_PULSE_CONSTANT=.04,colourPulseSize=0,mainTimer=!1,FPS=50,mainInterval=20,bpm=128,pulseInterval=468.75,COLOURS=["red","blue","yellow","green"],pulseSize=0,pulseTimer=!1,pulseRecede=.01,PULSE_CONSTANT=.04,BAR_HEIGHT=.04,BAR_Y=.9;